<!DOCTYPE html>
<html>
  <head>
    <style>
	  .HSFLEv0-container {
	    position:absolute;
	    height:100%;
		width:100%;
		top:0px;
		left:0px;
		overflow:hidden;
	  }
	  .HSFLEv0-editor, .HSFLEv0-simulator {
        position:absolute;
		width:48%;
        height:96%;
		top:2%;
		overflow:scroll;
	  }
      .HSFLEv0-editor {
        background:lightgray;
        border: 3px solid gray;
		left:1%;
      }
      .HSFLEv0-simulator {
        border: 3px solid black;
		left:51%;
      }
	  .HSFLEv0-editor-textarea {
		background:lightgray;
		width:98%;
		height:98%;
	  }
    </style>
  </head>
  <body onload="loadCode()">
    <div id='HSFLEv0-container' class='HSFLEv0-container'>
      <div id='HSFLEv0-editor' class='HSFLEv0-editor'>
	  <input type="checkbox" checked="true" id="bootstrap-checkbox" onchange="bootstrapRefresh()">
	  <label for="bootstrap-checkbox"> Include Bootstrap </label>
	  <textarea class="HSFLEv0-editor-textarea" id="HSFLEv0-editor-textarea" wrap="off"></textarea>
	  </div>
      <div id='HSFLEv0-simulator' class='HSFLEv0-simulator'>
        <nav class="navbar navbar-default">
          <ul class="nav navbar-nav">
            <li class="active"><a>Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
      </div>
    </div>
	<link id="bootstrap-css-link" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link id="bootstrap-theme-link" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
	<script id="jquery-script" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script id="bootstrap-js-script" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script>
		
		var simulator = document.getElementById("HSFLEv0-simulator");
		//var editor = document.getElementById("editor");
		var editorTextarea = document.getElementById("HSFLEv0-editor-textarea");
		var textareaContent;
		var HSFLEv0Loop;
		function loadCode() {
			var s = simulator.innerHTML;
			s=s.replace(/\t/g, "");
			textareaContent = editorTextarea.innerHTML = s;
			HSFLEv0Loop = setInterval(loadPage, 100 );
		}
		function loadPage() {
			if(document.activeElement===editorTextarea) {
				if(editorTextarea.value != textareaContent) {
					textareaContent = simulator.innerHTML = editorTextarea.value;
				}
			}
		}
		function bootstrapRefresh() {
			var bootstrapCheckbox = document.getElementById("bootstrap-checkbox");
			var bootstrapCssLink = document.getElementById("bootstrap-css-link");
			var bootstrapThemeLink = document.getElementById("bootstrap-theme-link");
			var jQueryScript = document.getElementById("jquery-script");
			var bootsrtapJsScript = document.getElementById("bootstrap-js-script");
			if(bootstrapCheckbox.checked==true) {
				bootstrapCssLink.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css";
				bootstrapThemeLink.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css";
				jQueryScript.src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js";
				bootsrtapJsScript.src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js";
			}
			else {
				bootstrapCssLink.href="";
				bootstrapThemeLink.href="";
				jQueryScript.src="";
				bootsrtapJsScript.src="";
			}
		}
	</script>
  </body>
</html>
